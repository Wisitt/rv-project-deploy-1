import{r as i,U as y,u as R,j as e,C as N,B as C}from"./index-bf31e2d2.js";import{T as v,a as P,b as u,S as f,c as w}from"./index.esm-b22cca1b.js";import{T as S}from"./Table-a1d764fb.js";import{C as j}from"./Chip-10509b5e.js";import"./ModalDialog-0bd315e4.js";import"./FormControlContext-3189121c.js";import"./useControlled-d1d2877a.js";const A=()=>{const[o,r]=i.useState([]),[l,c]=i.useState(1),[h,d]=i.useState(5),n=i.useCallback(async()=>{const a=await y.getUserReportList();return r(a),a.data},[]);return i.useEffect(()=>{},[n]),{reportList:o,page:l,rowsPerPage:h,handleChangePage:async a=>{c(a),await n()},handleChangeRowsPerPage:a=>{d(a),c(1),n()},fetchReportList:n}},H=()=>{const{reportList:o,fetchReportList:r}=A();i.useEffect(()=>{r()},[r]);const[l,c]=i.useState({}),{mode:h}=R(),[d,n]=i.useState([]),m=t=>{n(s=>s.includes(t)?s.filter(p=>p!==t):[...s,t]),c(s=>({...s,[t]:!s[t]}))},x=(t,s)=>{const p=(o==null?void 0:o.filter(g=>g.report_status===t))||[];return e.jsxs(e.Fragment,{children:[p.length>0?e.jsx("tr",{className:`text-center ${d.includes(t)?"expanded":""}`,children:e.jsx("th",{colSpan:5,className:"cursor-pointer",children:e.jsxs("div",{className:"d-flex justify-content-between p-3",style:{border:"1px solid",padding:5,borderRadius:"15px"},onClick:()=>m(t),children:[e.jsxs("div",{className:"d-flex gap-4 align-items-center",children:[e.jsx("span",{children:d.includes(t)?e.jsx(f,{}):e.jsx(w,{})}),e.jsx(j,{color:s,variant:"solid",children:t})]}),e.jsxs("span",{className:"text-success fw-bold",children:["Found Data ",t]})]})})},t):e.jsx("tr",{className:"text-center",children:e.jsx("th",{colSpan:5,className:"cursor-no-drop",children:e.jsxs(C,{disabled:!0,variant:"outlined",className:"d-flex justify-content-between p-3",style:{border:"1px solid",padding:5,borderRadius:"15px",width:"100%"},children:[e.jsxs("div",{className:"d-flex gap-4 align-items-center",children:[e.jsx("span",{children:d.includes(t)?e.jsx(f,{}):e.jsx(w,{})}),e.jsx(j,{color:s,variant:"solid",children:t})]}),e.jsxs("span",{className:"text-danger fw-bold",children:["No data for ",t]})]})})},t),l[t]&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,children:e.jsx(S,{children:e.jsx(u,{children:p.map((g,b)=>a(g,b))})})})})]})},a=(t,s)=>e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{children:s+1}),e.jsx("th",{children:t.room_number}),e.jsx("th",{children:t.report_detail}),e.jsx("th",{children:e.jsx(j,{color:t.report_status.toString()==="Canceled"?"danger":t.report_status.toString()==="In progress"?"warning":"success",variant:"solid",size:"lg",children:t.report_status})}),e.jsx("th",{children:D(t.timestamp)})]},t.id||s);return e.jsx("div",{className:"py-24 sm:py-32 md:py-40 relative d-flex justify-center align-items-center",style:{width:"100%",height:"100vh",position:"relative",maxHeight:"calc(100vh - 0px)",overflowY:"auto",...h==="dark"?{background:"linear-gradient(to bottom, #020420, #0F172A)"}:{background:"linear-gradient(to bottom, #AA96DA, #6962AD)"},padding:5},children:e.jsx(N,{sx:{width:"60%",maxWidth:"800px"},children:e.jsx(v,{style:{overflowX:"auto",width:"100%",height:"100%",maxHeight:500,minWidth:650,padding:5},children:e.jsxs(S,{className:"table mb-0",borderAxis:"none",color:"primary",stickyHeader:!0,children:[e.jsxs(P,{children:[e.jsxs("tr",{children:[e.jsx("th",{style:{width:100},children:"No"}),e.jsx("th",{style:{width:100},children:"Room"}),e.jsx("th",{style:{width:100},children:"Report"}),e.jsx("th",{style:{width:100},children:"Status"}),e.jsx("th",{style:{width:100},children:"Date time"})]}),e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{}),e.jsx("th",{}),e.jsx("th",{}),e.jsx("th",{})]})]}),e.jsxs(u,{children:[x("Approve","success"),x("In progress","warning"),x("Cancel","danger")]})]})})})})},D=o=>{const r=new Date(o),l=r.getFullYear(),c=(r.getMonth()+1).toString().padStart(2,"0"),h=r.getDate().toString().padStart(2,"0"),d=r.getHours().toString().padStart(2,"0"),n=r.getMinutes().toString().padStart(2,"0");return`${h}/${c}/${l} ${d}:${n}`};export{H as default};
